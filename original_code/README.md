These are unaltered scripts from [https://diytranscriptomics.com](https://diytranscriptomics.com)

Some of the antipatterns you will see in these scripts are listed here:

1. code duplication
2. hard-coding: paths, data, column names, etc.
3. missing references: some lines reference objects instantiated in previous scripts, requiring you to save all your RData when you close RStudio
4. lack of modularity: data and figures are all input and output into the same directory, making it difficult to figure out which files are used
5. manual intervention: instead of using `ggsave()` or `png() plot() dev.off()`, the script expects you to run each line in RStudio and use the [Export] button, making figure generation non-deterministic
6. improper object instantiation: filtered dataframes or data subsets are saved in permanent variables, signaling they might be important, but then they are never used again
7. lack of abstraction: very few examples of reusable functions
8. improper scoping: importing entire tidyverse package prevents you from knowing which package your function comes from
9. improper variable names: name your variables something descriptive and searchable

It is important that when you learn how to code for yourself, you try your best to avoid emulating these antipatterns. If you find yourself pressed for time and have to use an antipattern, always go back and clean it up after the deadline. This allows you to prevent accumulating technical debt, which if left unaddressed, will eventually cause you to never use your code again.

As for how to produce cleaner code, just like writing an essay, you need to find a style that works for you. There is no single "right way." The most important thing is to be consistent. Here are a few tips to help you get started:

1. Variable naming conventions. Find names for your variables that are as specific as possible without making them too specific. This is easier said than done. I see a lot of `my_data` a lot, and that is overly general. But something like `ferret_tx` is too specific, because if you'd ever want to swap that out for a human or mouse, the variable name will no longer be accurate. A reasonable name is `ref_tx`, because the data stored in this variable is meant to be a reference transcriptome. Note that although `tx` by itself would work, because it is so short, it becomes hard to search, and I would avoid using short variable names. There are two exceptions to this rule. One is if that variable is the ONLY one of its kind in the script and is referenced very often. For example, if a script is only ever going to handle one dataframe, then `df` is an acceptable name. The other example is if the variable is something that is one-and-done. In that case, it's acceptable to name it something nondescriptive, such as `tmp`, `cols`, `files`, etc. to signal that these variables are not important. As for snake\_case vs. CamelCase, either is acceptable, so pick one and stick with it. The only thing that is unacceptable is to switch back and forth between the two. Sometimes it's unavoiable, because say you've written your code in snake\_case, but the library you're importing from uses CamelCase. This scenario is acceptable as long as you stick to your convention, do not switch just because the library you're importing has a different convention.
2. Properly formatting your code. You can use whitespaces, newlines, and indentations to make sure things are readable. A general rule-of-thumb is that lines should not extend past 80 characters, because then you'd have to scroll sideways to read them. Most of your code should fit on the screen, and the only direction you should have to scroll is up or down. If you have a bunch of arguments in a function, you can put each argument on its own line and close the function on the last line. Although this makes your document longer (ie. stretching a 1 line code into 5+ lines), it makes the document far more readable. Could you imagine reading a newspaper if they didn't split the text into multiple columns and the sentences just went across the entire page?
3. Properly documenting your code. A lot of beginners think that documenting code means writing a ton of comments. Like the variable naming, this should be explanatory but not overly explanatory. You should strive to write your code in such a way that it is self-explanatory, and that includes writing good variable names. Here's a good article explaning this: [Best practices for writing code comments](https://stackoverflow.blog/2021/12/23/best-practices-for-writing-code-comments/). In general, the code comments are meant to convey the intent of a particular section of code, not explain exactly how the code works line by line.
4. Abstracting away complexity. If you find that you need many lines of code to achieve a singular goal, you should wrap it in a function. For example, suppose you have 20 csv files that you are processing. When you import these csv files, you need to rename the column names, properly format a datetime column, and force another column to be an integer datatype instead of float, and you need to do this multiple times. Rather than leaving each item like that, wrap it in a `preprocess_data` function, and now  when the reader reads that section, they can instantly understand your intent without ever having to write code comments.

Aside from these, there are a lot of other coding practices that you pick up as you progress in your coding journey. Hope this helps! 